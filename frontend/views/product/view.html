
<!-- Navigation -->
<header class="nav" xmlns="http://www.w3.org/1999/html">

    <div style = "position: fixed;height:80px;left:0;right: 0;top:0;background-color: #0a001f;font-size: 16px;color: white">
        <div class="left px-xl-5 py-xl-4">
            <a href="/product/list" class="white">
                <i class="ui-github">
                </i>
                Home
            </a>
        </div>
        <div class="right px-xl-5 py-xl-4 ">
            {{if .IsLogin}}
                <a href="/user/logout" class="white mx-5" ><i class="ui-user"></i>Log Out</a>
            {{else}}
                <a href="/user/login" class="white mx-5" ><i class="ui-user"></i>Sign In</a>
            {{end}}
            <a href="#" class="white" >
                <i class="ui-bag"></i>Order
            </a>
        </div>
    </div>

</header> <!-- end navigation -->

<!-- Single Product -->
<section class="section-wrap pb-20 product-single">
    <div class="container">

        <!-- Breadcrumbs -->
        <ol class="breadcrumbs">
            <li>
                <a href="/product/list">Home</a>
            </li>
            <li class="active">
                {{.product.ProductName}}
            </li>
        </ol>

        <div class="row">

            <div class="col-md-6 product-slider mb-50">
                <div class="flickity flickity-slider-wrap mfp-hover" id="gallery-main">
                    <div class="gallery-cell">
                        <img src="{{.product.ProductImage}}" width="604px" height="604px" alt=""/>
                    </div>
                </div> <!-- end gallery main -->
            </div> <!-- end col img slider -->

            <div class="col-md-6 product-single">
                <h1 class="product-single__title uppercase">{{.product.ProductName}}</h1>

                <div class="rating">
                    <a href="#">{{.product.ProductReviews}}</a>
                </div>

                <span class="product-single__price">
              <ins>
                <span class="amount">{{.product.ProductNewprice}}</span>
              </ins>
              <del>
                <span>{{.product.ProductOldprice}}</span>
              </del>
            </span>

                <form action="/product/get" method="post" id="productFrom">
                    <div class="row row-10 product-single__actions clearfix">
                        <div class="col">
                            <a href="/product/order?productID={{.product.ID}}" class="btn btn-lg btn-color product-single__add-to-cart">
                                <i class="ui-bag"><span >秒杀</span></i>
                            </a>
                        </div>
                    </div>

                    <div class="size-quantity clearfix">

                        <div class="quantity">
                            <label>Quantity:</label>
                            {{.product.ProductNum}}
                        </div>
                    </div>
                </form>

                <!-- Accordion -->
                <div class="accordion mb-50" id="accordion">
                    <div class="accordion__panel">
                        <div class="accordion__heading" id="headingOne">
                            <a data-toggle="collapse" href="#collapseOne" class="accordion__link accordion--is-open"
                               aria-expanded="true" aria-controls="collapseOne">Description<span
                                    class="accordion__toggle">&nbsp;</span>
                            </a>
                        </div>
                        <div id="collapseOne" class="collapse show" data-parent="#accordion" role="tabpanel"
                             aria-labelledby="headingOne">
                            <div class="accordion__body">
                                {{.product.ProductDescription}}
                            </div>
                        </div>
                    </div>
                </div> <!-- end accordion -->

            </div> <!-- end col product description -->
        </div> <!-- end row -->

    </div> <!-- end container -->
</section> <!-- end single product -->

<script>
    var startTime = "Mon Jun 18 2018 19:34:20 GMT+0800 (CST)" //秒杀开始时间
    //求时间差秒级别
    function contrastTime(begin, end) {
        var difference = (Date.parse(end) - Date.parse(begin)) / 1000; //利用时间戳算出相差的时间
        return difference;
    }

    //判断时间是否可以
    function isTimeOk() {
        var d = new Date();
        var ret = contrastTime(d, startTime);//获取返回值
        //判断开始时间是否大于当前时间，秒为单位
        if (ret >= 0) {
            //大于则无法够买
            return false
        }
        return true
    }
    //判断是否开始抢购,这里可以改成其它方式
    if (isTimeOk() == true) {
        document.getElementById('add').style="";
    } else {
        document.getElementById('add').style="display:none";
        //一秒判断一次
    }

    //点击按钮后10秒不允许提交,也可以变成其它样式
    document.getElementById('add').onclick=function(){
        this.style= "display:none";
        setTimeout(function (){
            document.getElementById('add').style="";
        },3000);
    }
    //表单提交
    function doSubmitForm() {
        var form = document.getElementById('productFrom');
        form.submit();
    }
</script>
<script>

</script>

